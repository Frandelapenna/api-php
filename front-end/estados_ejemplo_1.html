<!DOCTYPE html>
<html>
    <head>
        <title>Consumo de API de estados</title>
    </head>

    <body>
        <form>
            <label for="selector-estados">Estado</label>
            <select id="selector-estados" name="selector-estados"></select>
        </form>
    </body>

    <script type="text/javascript">

        // Ejemplo de llamado API y llenar un <select>
        fetch('../apis/estados-api.php/get', {
            method: 'POST',
            cache: 'no-cache',
            headers: {
                'Content-Type': 'application/json'
            }
        }).then(response => response.json())
            .then(data => {
                console.log(data);
                // Verifico que el API no haya devuelto un error.
                if (data.success) {
                    // Recorro los registros obtenidos y lleno el select creando
                    // las opciones con DOM.
                    data.values.forEach(element => {
                        let opcion = document.createElement("option");
                        opcion.value = element["id_estado"];
                        opcion.textContent = element["descripcion"];
                        document.getElementById("selector-estados").appendChild(opcion);
                    });
                }
                else
                    alert(data.values);

            }).catch(error => {
                console.error(error);
            });

    </script>
</html>